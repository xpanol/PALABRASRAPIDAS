<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>XPANOL Video Grid - Fixed</title>
  <style>
    html, body {
      margin: 0; padding: 0;
      width: 100%; height: 100%;
      background: #000; font-family: sans-serif;
      overflow: hidden;
    }

    .video-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      grid-template-rows: repeat(2, 1fr);
      gap: 5px;
      width: 100vw; height: 100vh;
      box-sizing: border-box;
    }

    .video-box {
      position: relative;
      width: 100%; height: 100%;
      background: #111; /* Kolor tła zanim wideo się załaduje */
    }

    video {
      width: 100%; height: 100%;
      object-fit: contain;
      display: block;
    }

    .play-overlay {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      width: 60px; height: 60px;
      background: rgba(255,255,255,0.8);
      border-radius: 50%;
      cursor: pointer;
      z-index: 10;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* Ikona Play */
    .play-overlay.btn-play::after {
      content: "";
      margin-left: 5px;
      border-left: 20px solid #F8AC10;
      border-top: 12px solid transparent;
      border-bottom: 12px solid transparent;
    }

    /* Ikona Pause */
    .play-overlay.btn-pause::after {
      content: "";
      width: 16px; height: 20px;
      border-left: 6px solid #F8AC10;
      border-right: 6px solid #F8AC10;
    }
  </style>
</head>
<body>

<div class="video-grid">
  <div class="video-box">
    <video playsinline webkit-playsinline preload="metadata" src="videos/video1.mp4#t=0.1"></video>
    <div class="play-overlay btn-play"></div>
  </div>
  <div class="video-box">
    <video playsinline webkit-playsinline preload="metadata" src="videos/video2.mp4#t=0.1"></video>
    <div class="play-overlay btn-play"></div>
  </div>
  <div class="video-box">
    <video playsinline webkit-playsinline preload="metadata" src="videos/video3.mp4#t=0.1"></video>
    <div class="play-overlay btn-play"></div>
  </div>
  <div class="video-box">
    <video playsinline webkit-playsinline preload="metadata" src="videos/video4.mp4#t=0.1"></video>
    <div class="play-overlay btn-play"></div>
  </div>
  <div class="video-box">
    <video playsinline webkit-playsinline preload="metadata" src="videos/video5.mp4#t=0.1"></video>
    <div class="play-overlay btn-play"></div>
  </div>
  <div class="video-box">
    <video playsinline webkit-playsinline preload="metadata" src="videos/video6.mp4#t=0.1"></video>
    <div class="play-overlay btn-play"></div>
  </div>
</div>

<script>
document.querySelectorAll('.video-box').forEach(box => {
  const v = box.querySelector('video');
  const btn = box.querySelector('.play-overlay');

  const updateUI = () => {
    if (v.paused) {
      btn.classList.replace('btn-pause', 'btn-play');
    } else {
      btn.classList.replace('btn-play', 'btn-pause');
    }
  };

  // Obsługa kliknięcia bezpośrednio na box
  box.addEventListener('click', () => {
    if (v.paused) {
      // Obietnica (Promise) pozwala wyłapać błąd Safari
      const playPromise = v.play();
      if (playPromise !== undefined) {
        playPromise.catch(error => {
          console.log("Safari blokuje: ", error);
          // Jeśli blokuje, spróbuj wyciszyć i puścić (to prawie zawsze działa)
          v.muted = true;
          v.play();
        });
      }
    } else {
      v.pause();
    }
  });

  v.onplay = updateUI;
  v.onpause = updateUI;
});
</script>

</body>
</html>
