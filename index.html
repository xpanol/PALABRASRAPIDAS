<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>XPANOL Video Grid</title>

<style>
html,body{
  margin:0;
  padding:0;
  background:#000;
  font-family:Arial, sans-serif;
}

/* GRID */
.video-grid{
  display:grid;
  grid-template-columns:repeat(3, 1fr);
  gap:20px;
  padding:20px;
}

/* BOX */
.video-box{
  position:relative;
}

/* VIDEO */
video{
  width:100%;
  height:auto;
  display:block;
  background:#000;
}

/* DOMYŚLNIE: TYLKO PLAY (Safari) */
.video-box:not(.active) video::-webkit-media-controls-timeline,
.video-box:not(.active) video::-webkit-media-controls-current-time-display,
.video-box:not(.active) video::-webkit-media-controls-time-remaining-display,
.video-box:not(.active) video::-webkit-media-controls-volume-slider,
.video-box:not(.active) video::-webkit-media-controls-fullscreen-button{
  display:none !important;
}

/* AKTYWNE VIDEO: PEŁNE KONTROLKI */
.video-box.active video::-webkit-media-controls{
  display:flex !important;
}
</style>
</head>

<body>

<div class="video-grid">

  <div class="video-box">
    <video preload="metadata" playsinline controls>
      <source src="videos_mp4/video1.mp4" type="video/mp4">
    </video>
  </div>

  <div class="video-box">
    <video preload="metadata" playsinline controls>
      <source src="videos_mp4/video2.mp4" type="video/mp4">
    </video>
  </div>

  <div class="video-box">
    <video preload="metadata" playsinline controls>
      <source src="videos_mp4/video3.mp4" type="video/mp4">
    </video>
  </div>

  <div class="video-box">
    <video preload="metadata" playsinline controls>
      <source src="videos_mp4/video4.mp4" type="video/mp4">
    </video>
  </div>

  <div class="video-box">
    <video preload="metadata" playsinline controls>
      <source src="videos_mp4/video5.mp4" type="video/mp4">
    </video>
  </div>

  <div class="video-box">
    <video preload="metadata" playsinline controls>
      <source src="videos_mp4/video6.mp4" type="video/mp4">
    </video>
  </div>

</div>

<script>
const boxes = document.querySelectorAll('.video-box');

boxes.forEach(box=>{
  const video = box.querySelector('video');

  video.addEventListener('play', ()=>{
    boxes.forEach(other=>{
      const v = other.querySelector('video');
      if(other !== box){
        v.pause();
        other.classList.remove('active');
      }
    });
    box.classList.add('active');
  });

  video.addEventListener('pause', ()=>{
    if(!video.ended){
      box.classList.add('active');
    }
  });

  video.addEventListener('ended', ()=>{
    box.classList.remove('active');
  });
});
</script>

</body>
</html>
